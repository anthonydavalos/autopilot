<TaskerData sr="" dvi="1" tv="6.6.7-beta">
	<Profile sr="prof7" ve="2">
		<flags>16</flags>
		<id>7</id>
		<mid0>5</mid0>
		<nme>WhatsApp Autopilot AI</nme>
		<pri>50</pri>
		<Event sr="con0" ve="2">
			<code>1520257414</code>
			<pri>0</pri>
			<Bundle sr="arg0">
				<Vals sr="val">
					<AllFields>false</AllFields>
					<AllFields-type>java.lang.Boolean</AllFields-type>
					<App>&lt;null&gt;</App>
					<App-type>java.lang.String</App-type>
					<BigImageNames>&lt;null&gt;</BigImageNames>
					<BigImageNames-type>java.lang.String</BigImageNames-type>
					<BigTextNames>&lt;null&gt;</BigTextNames>
					<BigTextNames-type>java.lang.String</BigTextNames-type>
					<CancelReason>&lt;StringArray sr=""/&gt;</CancelReason>
					<CancelReason-type>[Ljava.lang.String;</CancelReason-type>
					<CaseinsensitiveApp>false</CaseinsensitiveApp>
					<CaseinsensitiveApp-type>java.lang.Boolean</CaseinsensitiveApp-type>
					<CaseinsensitiveCategoryName>false</CaseinsensitiveCategoryName>
					<CaseinsensitiveCategoryName-type>java.lang.Boolean</CaseinsensitiveCategoryName-type>
					<CaseinsensitivePackage>false</CaseinsensitivePackage>
					<CaseinsensitivePackage-type>java.lang.Boolean</CaseinsensitivePackage-type>
					<CaseinsensitiveText>false</CaseinsensitiveText>
					<CaseinsensitiveText-type>java.lang.Boolean</CaseinsensitiveText-type>
					<CaseinsensitiveTitle>false</CaseinsensitiveTitle>
					<CaseinsensitiveTitle-type>java.lang.Boolean</CaseinsensitiveTitle-type>
					<CategoryImportance>&lt;StringArray sr=""/&gt;</CategoryImportance>
					<CategoryImportance-type>[Ljava.lang.String;</CategoryImportance-type>
					<CategoryName>&lt;null&gt;</CategoryName>
					<CategoryName-type>java.lang.String</CategoryName-type>
					<ExactApp>false</ExactApp>
					<ExactApp-type>java.lang.Boolean</ExactApp-type>
					<ExactCategoryName>false</ExactCategoryName>
					<ExactCategoryName-type>java.lang.Boolean</ExactCategoryName-type>
					<ExactPackage>false</ExactPackage>
					<ExactPackage-type>java.lang.Boolean</ExactPackage-type>
					<ExactText>false</ExactText>
					<ExactText-type>java.lang.Boolean</ExactText-type>
					<ExactTitle>false</ExactTitle>
					<ExactTitle-type>java.lang.Boolean</ExactTitle-type>
					<HasMediaSession>false</HasMediaSession>
					<HasMediaSession-type>java.lang.Boolean</HasMediaSession-type>
					<HasReplyAction>true</HasReplyAction>
					<HasReplyAction-type>java.lang.Boolean</HasReplyAction-type>
					<Id>&lt;null&gt;</Id>
					<Id-type>java.lang.String</Id-type>
					<IgnoreGroupSummary>true</IgnoreGroupSummary>
					<IgnoreGroupSummary-type>java.lang.Boolean</IgnoreGroupSummary-type>
					<ImageNames>&lt;null&gt;</ImageNames>
					<ImageNames-type>java.lang.String</ImageNames-type>
					<InterceptApps>&lt;StringArray sr=""&gt;&lt;_array_InterceptApps0&gt;com.whatsapp&lt;/_array_InterceptApps0&gt;&lt;_array_InterceptApps1&gt;com.whatsapp.w4b&lt;/_array_InterceptApps1&gt;&lt;/StringArray&gt;</InterceptApps>
					<InterceptApps-type>[Ljava.lang.String;</InterceptApps-type>
					<InterceptPersistent>&lt;null&gt;</InterceptPersistent>
					<InterceptPersistent-type>java.lang.String</InterceptPersistent-type>
					<InvertApp>false</InvertApp>
					<InvertApp-type>java.lang.Boolean</InvertApp-type>
					<InvertCategoryName>false</InvertCategoryName>
					<InvertCategoryName-type>java.lang.Boolean</InvertCategoryName-type>
					<InvertPackage>false</InvertPackage>
					<InvertPackage-type>java.lang.Boolean</InvertPackage-type>
					<InvertText>false</InvertText>
					<InvertText-type>java.lang.Boolean</InvertText-type>
					<InvertTitle>true</InvertTitle>
					<InvertTitle-type>java.lang.Boolean</InvertTitle-type>
					<PackageName>&lt;null&gt;</PackageName>
					<PackageName-type>java.lang.String</PackageName-type>
					<RegexApp>false</RegexApp>
					<RegexApp-type>java.lang.Boolean</RegexApp-type>
					<RegexCategoryName>false</RegexCategoryName>
					<RegexCategoryName-type>java.lang.Boolean</RegexCategoryName-type>
					<RegexPackage>false</RegexPackage>
					<RegexPackage-type>java.lang.Boolean</RegexPackage-type>
					<RegexText>false</RegexText>
					<RegexText-type>java.lang.Boolean</RegexText-type>
					<RegexTitle>true</RegexTitle>
					<RegexTitle-type>java.lang.Boolean</RegexTitle-type>
					<Text>&lt;null&gt;</Text>
					<Text-type>java.lang.String</Text-type>
					<TextNames>&lt;null&gt;</TextNames>
					<TextNames-type>java.lang.String</TextNames-type>
					<Title>.*:.*</Title>
					<Title-type>java.lang.String</Title-type>
					<Type>0</Type>
					<Type-type>java.lang.String</Type-type>
					<com.twofortyfouram.locale.intent.extra.BLURB>Event Behaviour: true
Notification Type: Only Created Notifications
Has Reply Action: true
Ignore Group Summaries: true
Notification Apps: WhatsApp,WhatsApp Business
Notification Title: .*:.* (regex) (invert) (invert)</com.twofortyfouram.locale.intent.extra.BLURB>
					<com.twofortyfouram.locale.intent.extra.BLURB-type>java.lang.String</com.twofortyfouram.locale.intent.extra.BLURB-type>
					<net.dinglisch.android.tasker.EXTRA_NSR_DEPRECATED>true</net.dinglisch.android.tasker.EXTRA_NSR_DEPRECATED>
					<net.dinglisch.android.tasker.EXTRA_NSR_DEPRECATED-type>java.lang.Boolean</net.dinglisch.android.tasker.EXTRA_NSR_DEPRECATED-type>
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES>&lt;StringArray sr=""&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;%anapp
01. App name
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES1&gt;%anbackgroundimage
Background Image
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES1&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES2&gt;%anbigicon
04. Icon When Expanded
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES2&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES3&gt;%anbutton1action
13. Button Action 1
Use with AutoNotification Actions&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES3&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES4&gt;%anbutton1icon
13. Button 1 Icon
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES4&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES5&gt;%anbutton1text
12. Button 1 Text
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES5&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES6&gt;%anbutton2action
15. Button 2 Action
Use with AutoNotification Actions&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES6&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES7&gt;%anbutton2icon
15. Button 2 Icon
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES7&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES8&gt;%anbutton2text
14. Button 2 Text
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES8&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES9&gt;%anbutton3action
17. Button 3 Action
Use with AutoNotification Actions&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES9&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES10&gt;%anbutton3icon
17. Button 3 Icon
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES10&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES11&gt;%anbutton3text
16. Button 3 Text
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES11&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES12&gt;%anbutton4action
18. Button 4 Action
Use with AutoNotification Actions&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES12&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES13&gt;%anbutton4icon
18. Button 4 Icon
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES13&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES14&gt;%anbutton4text
18. Button 4 Text
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES14&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES15&gt;%anbutton5action
19. Button 5 Action
Use with AutoNotification Actions&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES15&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES16&gt;%anbutton5icon
19. Button 5 Icon
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES16&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES17&gt;%anbutton5text
19. Button 5 Text
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES17&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES18&gt;%ancancelreason
Reason Cancelled Code
Code of the reason the notification was cancelled&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES18&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES19&gt;%ancancelreasontext
Reason Cancelled Text
Reason the notification was cancelled&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES19&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES20&gt;%ancategoryid
Category ID
Notification's category ID&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES20&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES21&gt;%ancategoryimportance
Category Importance
Notification's category Importance (0-5)&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES21&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES22&gt;%ancategoryname
Category Name
Notification's category Name&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES22&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES23&gt;%ancategorysound
Category Sound
Notification's category Sound URI&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES23&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES24&gt;%ancolor
Color
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES24&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES25&gt;%anconversation
Conversation
JSON Structure with all conversation related fields, i.e. text, sender, image, etc&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES25&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES26&gt;%andismissaction
23. Action On Dismiss Id
Use with AutoNotification Actions&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES26&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES27&gt;%anextrainfo
Extra Info
Extra info that you can add to an AutoNotification notification when you create it. Empty for others.&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES27&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES28&gt;%anextras
All Extras
All extras from the notification that are not already in one of the other variables in JSON format&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES28&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES29&gt;%angroup
Group
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES29&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES30&gt;%anhasmediasession
Has Media Session
All extras from the notification that are not already in one of the other variables in JSON format&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES30&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES31&gt;%anicon
04. Icon
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES31&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES32&gt;%anid
Id
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES32&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES33&gt;%aninfotext
10. Info Text
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES33&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES34&gt;%ankey
Key
A unique instance key for this notification&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES34&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES35&gt;%anmediabutton_actions()
Media Buttons Actions
Use with AutoNotification Media action&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES35&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES36&gt;%anmediabutton_names()
Media Buttons
Names corresponding to Media Button Actions&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES36&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES37&gt;%annumber
Number
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES37&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES38&gt;%anpackage
Package Name
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES38&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES39&gt;%anpeople
People
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES39&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES40&gt;%anpersistent
Is Persistent
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES40&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES41&gt;%anpicture
05. Picture
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES41&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES42&gt;%anpriority
Priority
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES42&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES43&gt;%anprogress
Progress
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES43&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES44&gt;%anprogressindeterminate
Progress Indeterminate
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES44&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES45&gt;%anprogressmax
Progress Max
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES45&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES46&gt;%anreplyaction
20. Action Reply
Use with AutoNotification Reply&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES46&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES47&gt;%anreplychoices()
Reply Choices
Choices for reply available as quick actions in the notification&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES47&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES48&gt;%anshowchronometer
Show Chronometer
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES48&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES49&gt;%ansortkey
Sort Key
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES49&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES50&gt;%anstatus
Cancelled Or Created
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES50&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES51&gt;%anstatusbaricon
07. Status Bar Icon
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES51&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES52&gt;%anstatusbaricon
Status Bar Icon
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES52&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES53&gt;%ansubtext
08. SubText
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES53&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES54&gt;%ansummary
Is Summary
Will be set to &amp;lt;b&amp;gt;1&amp;lt;/b&amp;gt; if it's a summary and &amp;lt;b&amp;gt;will not be set&amp;lt;/b&amp;gt; otherwise.&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES54&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES55&gt;%ansummarytext
09. Summary Text
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES55&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES56&gt;%antag
Tag
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES56&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES57&gt;%antext
03. Text
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES57&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES58&gt;%antextbig
03. Text When Expanded
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES58&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES59&gt;%antextlines()
11. Text Lines
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES59&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES60&gt;%anticker
03. Ticker Text
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES60&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES61&gt;%antitle
02. Title
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES61&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES62&gt;%antitlebig
02. Title When Expanded
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES62&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES63&gt;%antouchaction
22. Action On Touch Id
Use with AutoNotification Actions&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES63&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES64&gt;%anuserid
User ID
User ID for whom this notification is intended&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES64&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES65&gt;%anwhen
Show When
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES65&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES66&gt;%anwhentime
When
&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES66&gt;&lt;/StringArray&gt;</net.dinglisch.android.tasker.RELEVANT_VARIABLES>
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>[Ljava.lang.String;</net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>
					<net.dinglisch.android.tasker.extras.REQUESTED_TIMEOUT>20000</net.dinglisch.android.tasker.extras.REQUESTED_TIMEOUT>
					<net.dinglisch.android.tasker.extras.REQUESTED_TIMEOUT-type>java.lang.Integer</net.dinglisch.android.tasker.extras.REQUESTED_TIMEOUT-type>
					<net.dinglisch.android.tasker.extras.VARIABLE_REPLACE_KEYS>InterceptApps Title Type plugininstanceid plugintypeid </net.dinglisch.android.tasker.extras.VARIABLE_REPLACE_KEYS>
					<net.dinglisch.android.tasker.extras.VARIABLE_REPLACE_KEYS-type>java.lang.String</net.dinglisch.android.tasker.extras.VARIABLE_REPLACE_KEYS-type>
					<net.dinglisch.android.tasker.subbundled>true</net.dinglisch.android.tasker.subbundled>
					<net.dinglisch.android.tasker.subbundled-type>java.lang.Boolean</net.dinglisch.android.tasker.subbundled-type>
					<plugininstanceid>4cbb1379-25c7-4f74-8bde-da52ad693882</plugininstanceid>
					<plugininstanceid-type>java.lang.String</plugininstanceid-type>
					<plugintypeid>com.joaomgcd.autonotification.intent.IntentInterceptNotificationEvent</plugintypeid>
					<plugintypeid-type>java.lang.String</plugintypeid-type>
				</Vals>
			</Bundle>
			<Str sr="arg1" ve="3">com.joaomgcd.autonotification</Str>
			<Str sr="arg2" ve="3">com.joaomgcd.autonotification.activity.ActivityConfigNotificationInterceptTaskerEvent</Str>
			<Int sr="arg3" val="1"/>
		</Event>
	</Profile>
	<Project sr="proj0" ve="2">
		<name>Autopilot</name>
		<pids>7</pids>
		<tids>5</tids>
	</Project>
	<Task sr="task5">
		<id>5</id>
		<nme>Responder GPT-4o-mini</nme>
		<pri>100</pri>
		<rty>2</rty>
		<stayawake>true</stayawake>
		<collision>2</collision>
		<Action sr="act0" ve="7">
			<code>596</code>
			<label>MD5 hash de antitle ‚Üí session_id</label>
			<Str sr="arg0" ve="3">%antitle</Str>
			<Int sr="arg1" val="26"/>
			<Str sr="arg2" ve="3">%session_id</Str>
			<Int sr="arg3" val="0"/>
		</Action>
		<Action sr="act1" ve="7">
			<code>547</code>
			<label>Set resp_key para contexto</label>
			<Str sr="arg0" ve="3">%resp_key</Str>
			<Str sr="arg1" ve="3">Resp_%session_id</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
		</Action>
		<Action sr="act2" ve="7">
			<code>547</code>
			<label>Set user_message</label>
			<Str sr="arg0" ve="3">%user_message</Str>
			<Str sr="arg1" ve="3">%antext</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
		</Action>
		<Action sr="act3" ve="7">
			<code>129</code>
			<label>DEBOUNCE + LEADER ELECTION (v3 - Atomic)</label>
			<se>false</se>
			<Str sr="arg0" ve="3">var sid = global('session_id') || local('session_id') || '';
	sid = (sid === undefined || sid === null) ? '' : ('' + sid);
	if (!sid || sid === 'undefined') {
		var respKeyProbe = local('resp_key') || global('resp_key') || '';
		if (respKeyProbe) {
			var matchSid = respKeyProbe.match(/^Resp_(.+)$/);
			if (matchSid &amp;&amp; matchSid[1]) {
				sid = matchSid[1];
			}
		}
	}
	if (!sid || sid === 'undefined') {
		sid = '';
	}
		var newMessage = local('user_message') || global('user_message') || '';
var senderTitle = local('antitle') || global('antitle') || '';
var existingSender = global('Sender_' + sid) || '';
if (sid &amp;&amp; senderTitle &amp;&amp; !existingSender) {
	setGlobal('Sender_' + sid, senderTitle);
}
var debounceSecondsRaw = global('DEBOUNCE_SECONDS');
var parsedDebounce = parseInt(debounceSecondsRaw, 10);
if (isNaN(parsedDebounce)) { parsedDebounce = 3; }
if (parsedDebounce &lt; 3) { parsedDebounce = 3; }
if (parsedDebounce &gt; 120) { parsedDebounce = 120; }

var currentInFlight = (parseInt(global('InFlight_' + sid), 10) || 0) + 1;
setGlobal('InFlight_' + sid, '' + currentInFlight);

var buffer = global('Buf_' + sid) || '';
if (buffer) {
	buffer += ', ' + newMessage;
} else {
	buffer = newMessage;
}
setGlobal('Buf_' + sid, buffer);
setLocal('buf_var', 'Buf_' + sid);

setLocal('arrival_number', '' + currentInFlight);
setLocal('debounce_seconds', '' + parsedDebounce);
setLocal('should_send_token', 'skip');
setLocal('should_send', 'skip');
setLocal('http_body_json', '');
setLocal('http_body', '');
setLocal('http_body_len', '0');
var gateKey = 'GATE_SHOULD_SEND';
if (sid) {
	gateKey += '_' + sid;
}
setLocal('gate_key', gateKey);
setGlobal(gateKey, 'skip');
if (sid) {
	setGlobal('HttpBody_' + sid, '');
	setGlobal('HttpBodyLen_' + sid, '0');
}</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="45"/>
		</Action>
		<Action sr="act4" ve="7">
			<code>30</code>
			<label>Wait: ventana debounce</label>
			<Int sr="arg0" val="0"/>
			<Int sr="arg1">
				<var>%debounce_seconds</var>
			</Int>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
		</Action>
		<Action sr="act5" ve="7">
			<code>129</code>
			<label>JS: Verificar liderazgo y armar payload</label>
			<Str sr="arg0" ve="3">var sid = global('session_id') || local('session_id') || '';
	sid = (sid === undefined || sid === null) ? '' : ('' + sid);
	if (!sid || sid === 'undefined') {
		var respKeyProbe = local('resp_key') || global('resp_key') || '';
		if (respKeyProbe) {
			var matchSid = respKeyProbe.match(/^Resp_(.+)$/);
			if (matchSid &amp;&amp; matchSid[1]) {
				sid = matchSid[1];
			}
		}
	}
	if (!sid || sid === 'undefined') {
		sid = '';
	}
			var gateKey = local('gate_key');
			if (!gateKey) {
				gateKey = 'GATE_SHOULD_SEND';
				if (sid) {
					gateKey += '_' + sid;
				}
			}
			setLocal('gate_key', gateKey);
		var arrivalNumber = parseInt(local('arrival_number'), 10);
if (isNaN(arrivalNumber) || arrivalNumber &lt; 1) { arrivalNumber = 1; }
var finalInFlightRaw = global('InFlight_' + sid);
var finalInFlight = parseInt(finalInFlightRaw, 10);
if (isNaN(finalInFlight)) { finalInFlight = arrivalNumber; }

var finalBufferContent = sid ? (global('Buf_' + sid) || '') : '';
var shouldSendFlag = false;
if (finalBufferContent) {
	if (finalInFlight &lt;= 1) {
		shouldSendFlag = true;
	} else if (arrivalNumber &gt;= finalInFlight) {
		shouldSendFlag = true;
	}
}

function escapeJson(str) {
	if (str == null) { return ''; }
	var out = '' + str;
	out = out.replace(/\\/g, '\\\\');
	out = out.replace(/"/g, '\\"');
	out = out.replace(/\r/g, '\\r');
	out = out.replace(/\n/g, '\\n');
	return out;
}

var bodyString = '';
if (shouldSendFlag) {
	var storedResponseId = sid ? (global('PrevResp_' + sid) || '') : '';
	var instructions = global('PROMPT');
	if (!instructions) {
		instructions = "Eres Autopilot, un asistente virtual inteligente para WhatsApp. Tu objetivo es gestionar mensajes cuando el usuario principal no est√© disponible, brindando respuestas √∫tiles, profesionales y amigables. Tono: Cort√©s, claro y natural. Adapta tu estilo seg√∫n el contexto (formal para trabajo, m√°s relajado para amigos/familia). Formato WhatsApp: Puedes usar Markdown b√°sico (negritas, cursivas, listas breves y emojis ocasionales cuando ayuden). IMPORTANTE: NO uses LaTeX ni KaTeX (\(...\) o $$...$$) para matem√°ticas; WhatsApp no los soporta. Escribe operaciones matem√°ticas en texto plano (ej: '3 √ó 4 = 12' o '3 * 4 = 12'). Reglas de presentaci√≥n: En el primer mensaje de cada conversaci√≥n nueva, pres√©ntate brevemente ('Soy Autopilot, el asistente virtual...') e informa que el usuario principal no est√° disponible en este momento. No repitas la presentaci√≥n en mensajes subsiguientes. Saludo personalizado: El nombre del remitente llega en la l√≠nea 'sender:'. Usa la primera palabra como nombre de pila para dirigirte a la persona (ej: si dice 'sender: Mar√≠a Gonz√°lez', usa 'Mar√≠a'). Si el nombre empieza con '+' (n√∫mero de tel√©fono), pregunta amablemente su nombre sin solicitar el n√∫mero nuevamente. Flujo de conversaci√≥n: Responde con cortes√≠a y claridad. Mant√©n la conversaci√≥n fluida haciendo preguntas relevantes cuando sea apropiado. Si detectas urgencia, ofrece comunicar el asunto de inmediato. Si la consulta requiere al usuario principal, recopila informaci√≥n necesaria y confirma que la transmitir√°s. Intuye cu√°ndo el remitente desea terminar la conversaci√≥n y desp√≠dete cordialmente. L√≠mites: No pidas datos personales innecesarios. No compartas informaci√≥n privada del usuario principal. No des opiniones personales sobre temas sensibles. Mant√©n un enfoque profesional y servicial en todo momento.";
	}
	var senderTitle = sid ? (global('Sender_' + sid) || '') : '';
	if (!senderTitle) {
		senderTitle = local('antitle') || global('antitle') || '';
	}
	var inputPayload = 'sender: ' + senderTitle + '\nmessage:\n' + finalBufferContent;
	var parts = [];
	parts.push('"model":"gpt-4o-mini"');
	parts.push('"store":true');
	if (storedResponseId &amp;&amp; storedResponseId.indexOf('resp_') === 0) {
		parts.push('"previous_response_id":"' + escapeJson(storedResponseId) + '"');
	} else {
		parts.push('"instructions":"' + escapeJson(instructions) + '"');
	}
	parts.push('"input":"' + escapeJson(inputPayload) + '"');
	bodyString = '{' + parts.join(',') + '}';
}

var shouldSendToken = shouldSendFlag ? 'send' : 'skip';

setLocal('http_body_json', bodyString);
setLocal('http_body', bodyString);
setLocal('http_body_len', '' + bodyString.length);
setLocal('http_body_inspect', bodyString);
if (sid) {
	setGlobal('HttpBody_' + sid, bodyString);
	setGlobal('HttpBodyLen_' + sid, '' + bodyString.length);
}

var leaderDiag = 'arr=' + arrivalNumber + ' final=' + finalInFlight + ' send=' + shouldSendToken + ' buf=' + finalBufferContent.length;
setGlobal('TEMP_should_send_token', shouldSendToken);
setGlobal('TEMP_should_send', shouldSendToken);
setGlobal('TEMP_leader_diag', leaderDiag);
setGlobal('TEMP_http_body', bodyString);
setGlobal('TEMP_http_body_len', '' + bodyString.length);
setLocal('should_send_token', shouldSendToken);
setLocal('should_send', shouldSendToken);
setLocal('leader_diag', leaderDiag);
setGlobal(gateKey, shouldSendToken);
if (sid) {
	setGlobal('ShouldSend_' + sid, shouldSendToken);
	setGlobal('LeaderDiag_' + sid, leaderDiag);
}</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="45"/>
		</Action>
		<Action sr="act6" ve="7">
			<code>547</code>
			<label>Sync: Copy TEMP globals to locals</label>
			<Str sr="arg0" ve="3">%should_send_token</Str>
			<Str sr="arg1" ve="3">%TEMP_should_send_token</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
		</Action>
		<Action sr="act7" ve="7">
			<code>547</code>
			<label>Sync: Copy http_body from TEMP</label>
			<Str sr="arg0" ve="3">%http_body</Str>
			<Str sr="arg1" ve="3">%TEMP_http_body</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
		</Action>

		<Action sr="act8" ve="7">
			<code>37</code>
			<label>GATE: Continuar solo si soy l√≠der (should_send_token = send)</label>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%should_send_token</lhs>
					<op>2</op>
					<rhs>send</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act9" ve="7">
			<code>43</code>
			<label>ELSE (No soy l√≠der)</label>
		</Action>
		<Action sr="act10" ve="7">
			<code>137</code>
			<label>STOP</label>
			<Int sr="arg0" val="0"/>
			<Str sr="arg1" ve="3"/>
		</Action>
		<Action sr="act11" ve="7">
			<code>38</code>
			<label>End If (GATE)</label>
		</Action>
		<Action sr="act12" ve="7">
			<code>339</code>
			<label>HTTP POST a OpenAI Responses API</label>
			<se>false</se>
			<Bundle sr="arg0">
				<Vals sr="val">
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES>&lt;StringArray sr=""&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;%http_file_output
Archivo de Salida
Siempre contendr√° la ruta completa del archivo, incluso si especific√≥ un directorio como Archivo para guardar.&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES1&gt;%http_headers()
Cabeceras de Respuesta
Las cabeceras HTTP que el servidor envi√≥ en la respuesta. Cada cabecera est√° en el formato 'clave:valor'&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES1&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES2&gt;%http_cookies
Cookies
Las cookies que el servidor envi√≥ en la respuesta en el formato Cookie:COOKIE_VALUE. Puede usar esto directamente en el campo 'Cabeceras' de la acci√≥n Solicitud HTTP&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES2&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES3&gt;%http_response_code
C√≥digo de Respuesta
El c√≥digo HTTP que respondi√≥ el servidor&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES3&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES4&gt;%http_data
Datos
Datos que el servidor ha respondido para la solicitud HTTP.&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES4&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES5&gt;%http_response_length
Longitud de Respuesta
El tama√±o de la respuesta en bytes&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES5&gt;&lt;/StringArray&gt;</net.dinglisch.android.tasker.RELEVANT_VARIABLES>
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>[Ljava.lang.String;</net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>
				</Vals>
			</Bundle>
			<Int sr="arg1" val="1"/>
			<Int sr="arg10" val="1"/>
			<Int sr="arg11" val="1"/>
			<Int sr="arg12" val="1"/>
			<Str sr="arg2" ve="3">https://api.openai.com/v1/responses</Str>
			<Str sr="arg3" ve="3">Authorization: Bearer %OPENAI_API_KEY
Content-Type: application/json
Connection: close</Str>
			<Str sr="arg4" ve="3"/>
			<Str sr="arg5" ve="3">%http_body_inspect</Str>
			<Str sr="arg6" ve="3"/>
			<Str sr="arg7" ve="3"/>
			<Int sr="arg8" val="45"/>
			<Int sr="arg9" val="0"/>
		</Action>
		<Action sr="act13" ve="7">
			<code>129</code>
			<label>JS: Limpieza de sem√°foros post-HTTP</label>
			<se>false</se>
			<Str sr="arg0" ve="3">try {
			var sid = global('session_id') || local('session_id') || '';
	sid = (sid === undefined || sid === null) ? '' : ('' + sid);
	if (!sid || sid === 'undefined') {
		var respKeyProbe = local('resp_key') || global('resp_key') || '';
		if (respKeyProbe) {
			var matchSid = respKeyProbe.match(/^Resp_(.+)$/);
			if (matchSid &amp;&amp; matchSid[1]) {
				sid = matchSid[1];
			}
		}
	}
	if (!sid || sid === 'undefined') {
		sid = '';
	}
		var gateKey = local('gate_key');
		if (!gateKey) {
			gateKey = 'GATE_SHOULD_SEND';
			if (sid) {
				gateKey += '_' + sid;
			}
		}
		if (sid) {
			setGlobal('Buf_' + sid, '');
			setGlobal('InFlight_' + sid, '0');
			setGlobal('ShouldSend_' + sid, '');
			setGlobal('HttpBody_' + sid, '');
			setGlobal('HttpBodyLen_' + sid, '0');
			setGlobal('Sender_' + sid, '');
		}
		if (gateKey) {
			setGlobal(gateKey, '');
		}
		setGlobal('TEMP_should_send_token', '');
		setGlobal('TEMP_should_send', '');
		setGlobal('TEMP_leader_diag', '');
		setGlobal('TEMP_http_body', '');
		setGlobal('TEMP_http_body_len', '');
	} catch(e) {
	}</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="3"/>
		</Action>
		<Action sr="act14" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%http_error</Str>
			<Str sr="arg1" ve="3">0</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
		</Action>

		<Action sr="act15" ve="7">
			<code>547</code>
			<label>PlanB: Guardar %%resp_key = %http_data[id]</label>
			<Str sr="arg0" ve="3">%%resp_key</Str>
			<Str sr="arg1" ve="3">%http_data[id]</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%http_data[id]</lhs>
					<op>4</op>
					<rhs>^resp_</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act16" ve="7">
			<code>547</code>
			<label>PlanB: alt_ctx_key = PrevResp_%session_id</label>
			<Str sr="arg0" ve="3">%alt_ctx_key</Str>
			<Str sr="arg1" ve="3">PrevResp_%session_id</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
		</Action>
		<Action sr="act17" ve="7">
			<code>547</code>
			<label>PlanB: Guardar %%alt_ctx_key = %http_data[id]</label>
			<Str sr="arg0" ve="3">%%alt_ctx_key</Str>
			<Str sr="arg1" ve="3">%http_data[id]</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%http_data[id]</lhs>
					<op>4</op>
					<rhs>^resp_</rhs>
				</Condition>
			</ConditionList>
		</Action>

		<Action sr="act18" ve="7">
			<code>37</code>
			<label>Verificar si HTTP fall√≥ (c√≥digo no-2xx O err existe)</label>
			<ConditionList sr="if">
				<bool0>Or</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%http_response_code</lhs>
					<op>4</op>
					<rhs>^(?:$|[^2]..)$</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%http_response_code</lhs>
					<op>13</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act19" ve="7">
			<code>547</code>
			<label>Marcar error solo si c√≥digo HTTP no es 2xx</label>
			<Str sr="arg0" ve="3">%http_error</Str>
			<Str sr="arg1" ve="3">1</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
		</Action>
		<Action sr="act20" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act21" ve="7">
			<code>37</code>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%http_error</lhs>
					<op>8</op>
					<rhs>1</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act22" ve="7">
			<code>523</code>
			<Str sr="arg0" ve="3">Tasker Error</Str>
			<Str sr="arg1" ve="3">%errmsg
HTTP %http_response_code
%http_data[error.message]</Str>
			<Str sr="arg10" ve="3">0,200,100,200</Str>
			<Str sr="arg11" ve="3">AI Errors</Str>
			<Str sr="arg12" ve="3"/>
			<Int sr="arg13" val="0"/>
			<Str sr="arg14" ve="3"/>
			<Str sr="arg15" ve="3"/>
			<Img sr="arg2" ve="2">
				<nme>mw_alert_error_outline</nme>
			</Img>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="5"/>
			<Int sr="arg6" val="0"/>
			<Int sr="arg7" val="0"/>
			<Int sr="arg8" val="0"/>
			<Str sr="arg9" ve="3"/>
		</Action>
		<Action sr="act23" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act24" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%api_reply</Str>
			<Str sr="arg1" ve="3">%http_data[output.content.text]</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
		</Action>
		<Action sr="act25" ve="7">
			<code>37</code>
			<ConditionList sr="if">
				<bool0>Or</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%api_reply</lhs>
					<op>4</op>
					<rhs>^\s*$|^%[^\\s]</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%http_error</lhs>
					<op>8</op>
					<rhs>1</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act26" ve="7">
			<code>129</code>
			<label>JS: Parseo JSON fallback</label>
			<se>true</se>
			<Str sr="arg0" ve="3">try {
var raw='';
try { raw=local('http_data'); } catch(e) {}
if (raw==null || raw==='') { try { raw=global('http_data'); } catch(e) {} }
if (raw==null) { raw=''; }
raw = ''+raw;
var txt='';
var rid='';
var obj=null;
try { obj = JSON.parse(raw); } catch(e2) {}
if (obj &amp;&amp; typeof obj==='object') {
	if (obj.id) {
		var _id=''+obj.id;
		if (_id.indexOf('resp_')===0) { rid=_id; }
	}
	if (!txt &amp;&amp; typeof obj.output_text==='string') {
		var t=(''+obj.output_text).trim();
		if (t) { txt=t; }
	}
	if (!txt &amp;&amp; obj.output &amp;&amp; obj.output.length&gt;0) {
		var o0 = obj.output[0];
		if (o0) {
			var c = o0.content;
			if (c) {
				if (typeof c==='string') {
					var t2=(''+c).trim(); if (t2) { txt=t2; }
				} else if (c.length &amp;&amp; c[0]!=null) {
					var c0=c[0];
					if (typeof c0==='string') { var t3=(''+c0).trim(); if (t3) { txt=t3; } }
					else if (c0 &amp;&amp; typeof c0.text==='string') { var t4=(''+c0.text).trim(); if (t4) { txt=t4; } }
				}
			}
			if (!txt &amp;&amp; typeof o0.output_text==='string') { var t5=(''+o0.output_text).trim(); if (t5) { txt=t5; } }
		}
	}
	if (!txt &amp;&amp; obj.error &amp;&amp; typeof obj.error.message==='string') { txt='Error: '+obj.error.message; }
}
if (typeof setGlobal==='function') {
	if (rid) { setGlobal('response_id', rid); }
	if (txt) { setGlobal('api_reply', txt); }
}
} catch(e) { }</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="3"/>
		</Action>
		<Action sr="act27" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%response_id</Str>
			<Str sr="arg1" ve="3">%http_data[id]</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%http_data[id]</lhs>
					<op>4</op>
					<rhs>^resp_</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act28" ve="7">
			<code>37</code>
			<label>IF: response_id v√°lido (resp_...)</label>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%response_id</lhs>
					<op>4</op>
					<rhs>^resp_</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act29" ve="7">
			<code>547</code>
			<label>Guardar contexto por contacto: %%resp_key = %response_id</label>
			<Str sr="arg0" ve="3">%%resp_key</Str>
			<Str sr="arg1" ve="3">%response_id</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
		</Action>
		<Action sr="act30" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act31" ve="7">
			<code>547</code>
			<label>Alt ctx key: construir nombre PrevResp_%session_id</label>
			<Str sr="arg0" ve="3">%alt_ctx_key</Str>
			<Str sr="arg1" ve="3">PrevResp_%session_id</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
		</Action>
		<Action sr="act32" ve="7">
			<code>547</code>
			<label>Alt ctx save: %%alt_ctx_key = %response_id</label>
			<Str sr="arg0" ve="3">%%alt_ctx_key</Str>
			<Str sr="arg1" ve="3">%response_id</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
		</Action>

		<Action sr="act33" ve="7">
			<code>129</code>
			<label>JS: Persistir response_id en clave Resp_ por contacto</label>
			<se>false</se>
			<Str sr="arg0" ve="3">try {
  var rk='';
  try { rk = local('resp_key'); } catch(e) {}
  if (!rk) { try { rk = global('resp_key'); } catch(e) {} }
  var rid='';
  try { rid = local('response_id'); } catch(e) {}
  if (!rid) { try { rid = global('response_id'); } catch(e) {} }
  if (rk &amp;&amp; rid &amp;&amp; (''+rid).indexOf('resp_')===0) {
    try { setGlobal(rk, rid); } catch(e) {}
  }
} catch(e) {}</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="3"/>
		</Action>
		<Action sr="act34" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act35" ve="7">
			<code>37</code>
			<ConditionList sr="if">
				<bool0>Or</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%api_reply</lhs>
					<op>4</op>
					<rhs>^\s*$</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%api_reply</lhs>
					<op>4</op>
					<rhs>^%[^\\s]</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act36" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%api_reply</Str>
			<Str sr="arg1" ve="3">Disculpe, hubo un error al procesar la respuesta. Intentar√© contestarle en breve.</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
		</Action>
		<Action sr="act37" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act38" ve="7">
			<code>129</code>
			<label>JS: Calcular api_reply_len_strict</label>
			<Str sr="arg0" ve="3">try {
  var t='';
  try { t = local('api_reply'); } catch(e) {}
  if (!t) { try { t = global('api_reply'); } catch(e2) {} }
  if (t==null) t='';
  var n = (''+t).length;
  setLocal('api_reply_len_strict',''+n);
  setGlobal('api_reply_len_strict',''+n);
} catch(err) {
  setLocal('api_reply_len_strict','0');
  setGlobal('api_reply_len_strict','0');
}
'';</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="45"/>
		</Action>

		<Action sr="act39" ve="7">
			<code>30</code>
			<label>Wait: breve antes de Reply (200ms)</label>
			<Int sr="arg0" val="200"/>
			<Int sr="arg1" val="0"/>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
		</Action>
		<Action sr="act40" ve="7">
			<code>129</code>
			<label>JS: Formatear error de red amigable</label>
			<Str sr="arg0" ve="3">try {
  var reply = '';
  try { reply = local('api_reply'); } catch(e) {}
  if (!reply) { try { reply = global('api_reply'); } catch(e2) {} }
  if (!reply) reply = '';
  
  // Detectar errores de red comunes
  var isNetworkError = (
    reply.indexOf('UnknownHostException') &gt;= 0 ||
    reply.indexOf('ConnectException') &gt;= 0 ||
    reply.indexOf('SocketTimeoutException') &gt;= 0 ||
    reply.indexOf('Unable to resolve host') &gt;= 0 ||
    reply.indexOf('No address associated') &gt;= 0 ||
    reply.indexOf('Network is unreachable') &gt;= 0
  );
  
  if (isNetworkError) {
    var friendlyMsg = 'Lo siento, perd√≠ la conexi√≥n a Internet temporalmente. ¬øPuedes intentar enviar tu mensaje de nuevo? üôè';
    setLocal('api_reply', friendlyMsg);
    setGlobal('api_reply', friendlyMsg);
  }
} catch(err) {
  // No hacer nada, mantener mensaje original
}
'';</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="45"/>
		</Action>
		<Action sr="act41" ve="7">
			<code>1644316156</code>
			<Bundle sr="arg0">
				<Vals sr="val">
					<App>&lt;null&gt;</App>
					<App-type>java.lang.String</App-type>
					<CancelBeforeReplying>false</CancelBeforeReplying>
					<CancelBeforeReplying-type>java.lang.Boolean</CancelBeforeReplying-type>
					<CaseinsensitiveApp>false</CaseinsensitiveApp>
					<CaseinsensitiveApp-type>java.lang.Boolean</CaseinsensitiveApp-type>
					<CaseinsensitivePackage>false</CaseinsensitivePackage>
					<CaseinsensitivePackage-type>java.lang.Boolean</CaseinsensitivePackage-type>
					<CaseinsensitiveText>false</CaseinsensitiveText>
					<CaseinsensitiveText-type>java.lang.Boolean</CaseinsensitiveText-type>
					<CaseinsensitiveTitle>false</CaseinsensitiveTitle>
					<CaseinsensitiveTitle-type>java.lang.Boolean</CaseinsensitiveTitle-type>
					<ExactApp>false</ExactApp>
					<ExactApp-type>java.lang.Boolean</ExactApp-type>
					<ExactPackage>false</ExactPackage>
					<ExactPackage-type>java.lang.Boolean</ExactPackage-type>
					<ExactText>false</ExactText>
					<ExactText-type>java.lang.Boolean</ExactText-type>
					<ExactTitle>false</ExactTitle>
					<ExactTitle-type>java.lang.Boolean</ExactTitle-type>
					<InterceptActionId>%anreplyaction</InterceptActionId>
					<InterceptActionId-type>java.lang.String</InterceptActionId-type>
					<InterceptApps>&lt;StringArray sr=""&gt;&lt;_array_InterceptApps0&gt;com.whatsapp&lt;/_array_InterceptApps0&gt;&lt;_array_InterceptApps1&gt;com.whatsapp.w4b&lt;/_array_InterceptApps1&gt;&lt;/StringArray&gt;</InterceptApps>
					<InterceptApps-type>[Ljava.lang.String;</InterceptApps-type>
					<InvertApp>false</InvertApp>
					<InvertApp-type>java.lang.Boolean</InvertApp-type>
					<InvertPackage>false</InvertPackage>
					<InvertPackage-type>java.lang.Boolean</InvertPackage-type>
					<InvertText>false</InvertText>
					<InvertText-type>java.lang.Boolean</InvertText-type>
					<InvertTitle>false</InvertTitle>
					<InvertTitle-type>java.lang.Boolean</InvertTitle-type>
					<PackageName>&lt;null&gt;</PackageName>
					<PackageName-type>java.lang.String</PackageName-type>
					<RegexApp>false</RegexApp>
					<RegexApp-type>java.lang.Boolean</RegexApp-type>
					<RegexPackage>false</RegexPackage>
					<RegexPackage-type>java.lang.Boolean</RegexPackage-type>
					<RegexText>false</RegexText>
					<RegexText-type>java.lang.Boolean</RegexText-type>
					<RegexTitle>false</RegexTitle>
					<RegexTitle-type>java.lang.Boolean</RegexTitle-type>
					<ReplyText>%api_reply</ReplyText>
					<ReplyText-type>java.lang.String</ReplyText-type>
					<Text>&lt;null&gt;</Text>
					<Text-type>java.lang.String</Text-type>
					<Title>&lt;null&gt;</Title>
					<Title-type>java.lang.String</Title-type>
					<com.twofortyfouram.locale.intent.extra.BLURB>Notification Apps: WhatsApp,WhatsApp Business
Reply ID: %anreplyaction
Reply Text: %api_reply</com.twofortyfouram.locale.intent.extra.BLURB>
					<com.twofortyfouram.locale.intent.extra.BLURB-type>java.lang.String</com.twofortyfouram.locale.intent.extra.BLURB-type>
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES>&lt;StringArray sr=""&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;%err
Error Code
Only available if you select &amp;lt;b&amp;gt;Continue Task After Error&amp;lt;/b&amp;gt; and the action ends in error&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES1&gt;%errmsg
Error Message
Only available if you select &amp;lt;b&amp;gt;Continue Task After Error&amp;lt;/b&amp;gt; and the action ends in error&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES1&gt;&lt;/StringArray&gt;</net.dinglisch.android.tasker.RELEVANT_VARIABLES>
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>[Ljava.lang.String;</net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>
					<net.dinglisch.android.tasker.extras.VARIABLE_REPLACE_KEYS>InterceptActionId ReplyText InterceptApps plugininstanceid plugintypeid </net.dinglisch.android.tasker.extras.VARIABLE_REPLACE_KEYS>
					<net.dinglisch.android.tasker.extras.VARIABLE_REPLACE_KEYS-type>java.lang.String</net.dinglisch.android.tasker.extras.VARIABLE_REPLACE_KEYS-type>
					<net.dinglisch.android.tasker.subbundled>true</net.dinglisch.android.tasker.subbundled>
					<net.dinglisch.android.tasker.subbundled-type>java.lang.Boolean</net.dinglisch.android.tasker.subbundled-type>
					<plugininstanceid>a2a66476-53de-43ce-b9a5-d240706188a5</plugininstanceid>
					<plugininstanceid-type>java.lang.String</plugininstanceid-type>
					<plugintypeid>com.joaomgcd.autonotification.intent.IntentNotificationInterceptReply</plugintypeid>
					<plugintypeid-type>java.lang.String</plugintypeid-type>
				</Vals>
			</Bundle>
			<Str sr="arg1" ve="3">com.joaomgcd.autonotification</Str>
			<Str sr="arg2" ve="3">com.joaomgcd.autonotification.activity.ActivityConfigNotificationInterceptReply</Str>
			<Int sr="arg3" val="45"/>
			<Int sr="arg4" val="1"/>
		</Action>

	</Task>
</TaskerData>